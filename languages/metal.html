<!doctype html>
<!--

 This page was compiled by  Scroll, a public domain
 programming language and static site publishing tool.
 
 https://scroll.pub
 
 Generally you don't want to edit it by hand.

 Scroll v36.0.1

-->
<html lang="en-US">
 <head>
  <meta charset="utf-8"></meta>
  <title>Metal - Library</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"></meta>
  <meta name="description" content="PLDB: a Programming Language Database. Build the next great programming language."></meta>
  <meta name="generator" content="Scroll v36.0.1"></meta>
  <meta property="og:title" content="Metal"></meta>
  <meta property="og:description" content="Metal is a library created in 2014."></meta>
  <meta property="og:image" content=""></meta>
  <meta name="twitter:card" content="summary_large_image"></meta>
</head>
 <body>
  <link rel="stylesheet" type="text/css" href="../scroll.css"></link>
  <link rel="stylesheet" type="text/css" href="../style.css"></link>
  <script src="../libs/combined.js"></script>
  <script src="../search.js"></script>
  <div class="pldbHeader">
   <a href="../index.html" class="logoFont">PLDB</a>
   <form style="display:inline-block;">
    <input type="search" id="headerSearch" placeholder="Search" autocomplete="off"></input>
</form>
   <a href="../lists/top500.html">Languages</a>
   <a href="../lists/features.html">Features</a>
   <a href="../lists/calendar.html">Calendar</a>
   <a href="../docs/csv.html">CSV</a>
   <a href="../lists/lists.html">Lists</a>
   <a href="../posts/index.html">Blog</a>
   <a href="../pages/about.html">About</a>
   <a href="../pages/sponsor-a-fact.html">Sponsor</a>
   <a href="https://build.pldb.com/create">Add Language</a>
</div>
  <a class="gitHubTopRightLinkComponent" href="https://github.com/breck7/pldb"><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub icon</title><path d="M12 .297c-6.63 0-12  5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422  18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305  3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0  1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12  3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0  .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
  <h1 class="scrollFilePageTitle">
   <a href="metal.html">Metal</a>
</h1>
  <div class="scrollFilePageComponent" style="column-width:35ch;column-count:2;max-width:90ch;"><h1 class="scrollTitleComponent"><a href="metal.html">Metal</a></h1>













































<p class="scrollParagraphComponent">Metal is a <a href="../lists/languages.html?filter=library">library</a> created in <a href="../lists/languages.html?filter=2014">2014</a>.</p>

<table class="scrollKpiTable"><tr><td>#289<span>on PLDB</span></td>
<td>8<span>Years Old</span></td>
<td>2.6k<span><span title="Crude user estimate from a linear model.">Users</span></span></td></tr>
<tr><td>79<span><span title="Metal repos on GitHub.">Repos</span></span></td></tr>
</table>







<p class="scrollParagraphComponent">Metal is a low-level, low-overhead hardware-accelerated 3D graphic and compute shader application programming interface (API) developed by Apple Inc., and which debuted in iOS 8. Metal combines functions similar to OpenGL and OpenCL under one API. It is intended to bring to iOS, macOS, and tvOS apps some of the performance benefits of similar APIs on other platforms, such as Vulkan (which debuted in mid-February 2016) and DirectX 12. <a href="https://en.wikipedia.org/wiki/Metal_(API)">Read more on Wikipedia...</a></p>

<ul class="scrollUnorderedListComponent">
<li>the <a href="https://en.wikipedia.org/wiki/Metal_(API)">Metal Wikipedia page</a></li>
<li>There are at least 79 Metal repos on <a href="https://github.com/search?q=language:Metal">GitHub</a></li>
<li>file extensions for Metal include metal</li>
<li>The  Google BigQuery Public Dataset GitHub snapshot shows 232 users using Metal in 256 repos on <a href="https://api.github.com/search/repositories?q=language:Metal">GitHub</a></li>
<li>GitHub supports <a href="https://github.com/textmate/c.tmbundle" title="The package used for syntax highlighting by GitHub Linguist.">syntax highlighting</a> for Metal</li>
<li>See also: (7 related languages)<a href="ios.html">iOS</a>, <a href="opengl.html">OpenGL</a>, <a href="opencl.html">OpenCL</a>, <a href="swift.html">Swift</a>, <a href="objective-c.html">Objective-C</a>, <a href="llvmir.html">LLVM IR</a>, <a href="unity-engine.html">Unity</a></li>
<li>HTML of this page generated by <a href="https://github.com/breck7/pldb/blob/main/code/LanguagePage.ts">LanguagePage.ts</a></li>
<li><a href="https://build.pldb.com/edit/metal">Improve our Metal file</a></li>
</ul>

<br>

<div class="exampleCodeHeader">Example from <a href='https://github.com/textmate/c.tmbundle'>Linguist</a>:</div>
<code class="scrollCodeBlockComponent">// Copyright 2014 Isis Innovation Limited and the authors of InfiniTAM

#include &lt;metal_stdlib&gt;

#include &quot;../../DeviceAgnostic/ITMSceneReconstructionEngine.h&quot;
#include &quot;../../DeviceAgnostic/ITMVisualisationEngine.h&quot;
#include &quot;ITMVisualisationEngine_Metal.h&quot;

using namespace metal;

kernel void genericRaycastVH_device(DEVICEPTR(Vector4f) *pointsRay                                  [[ buffer(0) ]],
                                    const CONSTPTR(ITMVoxel) *voxelData                             [[ buffer(1) ]],
                                    const CONSTPTR(typename ITMVoxelIndex::IndexData) *voxelIndex   [[ buffer(2) ]],
                                    const CONSTPTR(Vector2f) *minmaxdata                            [[ buffer(3) ]],
                                    const CONSTPTR(CreateICPMaps_Params) *params                    [[ buffer(4) ]],
                                    uint2 threadIdx                                                 [[ thread_position_in_threadgroup ]],
                                    uint2 blockIdx                                                  [[ threadgroup_position_in_grid ]],
                                    uint2 blockDim                                                  [[ threads_per_threadgroup ]])
{
    int x = threadIdx.x + blockIdx.x * blockDim.x, y = threadIdx.y + blockIdx.y * blockDim.y;
    
    if (x &gt;= params-&gt;imgSize.x || y &gt;= params-&gt;imgSize.y) return;
    
    int locId = x + y * params-&gt;imgSize.x;
    int locId2 = (int)floor((float)x / minmaximg_subsample) + (int)floor((float)y / minmaximg_subsample) * params-&gt;imgSize.x;
    
    castRay&lt;ITMVoxel, ITMVoxelIndex&gt;(pointsRay[locId], x, y, voxelData, voxelIndex, params-&gt;invM, params-&gt;invProjParams,
                                     params-&gt;voxelSizes.y, params-&gt;lightSource.w, minmaxdata[locId2]);
}

kernel void genericRaycastVGMissingPoints_device(DEVICEPTR(Vector4f) *forwardProjection                         [[ buffer(0) ]],
                                                 const CONSTPTR(int) *fwdProjMissingPoints                      [[ buffer(1) ]],
                                                 const CONSTPTR(ITMVoxel) *voxelData                            [[ buffer(2) ]],
                                                 const CONSTPTR(typename ITMVoxelIndex::IndexData) *voxelIndex  [[ buffer(3) ]],
                                                 const CONSTPTR(Vector2f) *minmaxdata                           [[ buffer(4) ]],
                                                 const CONSTPTR(CreateICPMaps_Params) *params                   [[ buffer(5) ]],
                                                 uint2 threadIdx                                                [[ thread_position_in_threadgroup ]],
                                                 uint2 blockIdx                                                 [[ threadgroup_position_in_grid ]],
                                                 uint2 blockDim                                                 [[ threads_per_threadgroup ]])
{
    int pointId = threadIdx.x + blockIdx.x * blockDim.x;
    
    if (pointId &gt;= params-&gt;imgSize.z) return;
    
    int locId = fwdProjMissingPoints[pointId];
    int y = locId / params-&gt;imgSize.x, x = locId - y * params-&gt;imgSize.x;
    int locId2 = (int)floor((float)x / minmaximg_subsample) + (int)floor((float)y / minmaximg_subsample) * params-&gt;imgSize.x;
    
    castRay&lt;ITMVoxel, ITMVoxelIndex&gt;(forwardProjection[locId], x, y, voxelData, voxelIndex, params-&gt;invM, params-&gt;invProjParams,
                                     params-&gt;voxelSizes.y, params-&gt;lightSource.w, minmaxdata[locId2]);
}

kernel void renderICP_device(const CONSTPTR(Vector4f) *pointsRay            [[ buffer(0) ]],
                             DEVICEPTR(Vector4f) *pointsMap                 [[ buffer(1) ]],
                             DEVICEPTR(Vector4f) *normalsMap                [[ buffer(2) ]],
                             DEVICEPTR(Vector4u) *outRendering              [[ buffer(3) ]],
                             const CONSTPTR(CreateICPMaps_Params) *params   [[ buffer(4) ]],
                             uint2 threadIdx                                [[ thread_position_in_threadgroup ]],
                             uint2 blockIdx                                 [[ threadgroup_position_in_grid ]],
                             uint2 blockDim                                 [[ threads_per_threadgroup ]])
{
    int x = threadIdx.x + blockIdx.x * blockDim.x, y = threadIdx.y + blockIdx.y * blockDim.y;
    
    if (x &gt;= params-&gt;imgSize.x || y &gt;= params-&gt;imgSize.y) return;
    
    processPixelICP&lt;false&gt;(outRendering, pointsMap, normalsMap, pointsRay, params-&gt;imgSize.xy, x, y, params-&gt;voxelSizes.x, TO_VECTOR3(params-&gt;lightSource));
}

kernel void renderForward_device(DEVICEPTR(Vector4u) *outRendering              [[ buffer(0) ]],
                                 const CONSTPTR(Vector4f) *pointsRay            [[ buffer(1) ]],
                                 const CONSTPTR(CreateICPMaps_Params) *params   [[ buffer(2) ]],
                                 uint2 threadIdx                                [[ thread_position_in_threadgroup ]],
                                 uint2 blockIdx                                 [[ threadgroup_position_in_grid ]],
                                 uint2 blockDim                                 [[ threads_per_threadgroup ]])
{
    int x = threadIdx.x + blockIdx.x * blockDim.x, y = threadIdx.y + blockIdx.y * blockDim.y;
    
    if (x &gt;= params-&gt;imgSize.x || y &gt;= params-&gt;imgSize.y) return;
    
    processPixelForwardRender&lt;false&gt;(outRendering, pointsRay, params-&gt;imgSize.xy, x, y, params-&gt;voxelSizes.x, TO_VECTOR3(params-&gt;lightSource));
}

kernel void forwardProject_device(DEVICEPTR(Vector4f) *forwardProjection         [[ buffer(0) ]],
                                  const CONSTPTR(Vector4f) *pointsRay            [[ buffer(1) ]],
                                  const CONSTPTR(CreateICPMaps_Params) *params   [[ buffer(2) ]],
                                  uint2 threadIdx                                [[ thread_position_in_threadgroup ]],
                                  uint2 blockIdx                                 [[ threadgroup_position_in_grid ]],
                                  uint2 blockDim                                 [[ threads_per_threadgroup ]])
{
    int x = (threadIdx.x + blockIdx.x * blockDim.x), y = (threadIdx.y + blockIdx.y * blockDim.y);
    
    if (x &gt;= params-&gt;imgSize.x || y &gt;= params-&gt;imgSize.y) return;
    
    int locId = x + y * params-&gt;imgSize.x;
    Vector4f pixel = pointsRay[locId];
    
    int locId_new = forwardProjectPixel(pixel * params-&gt;voxelSizes.x, params-&gt;M, params-&gt;projParams, params-&gt;imgSize.xy);
    if (locId_new &gt;= 0) forwardProjection[locId_new] = pixel;
}</code>



















<div class="scrollKeyboardNav"><a href="numpy.html">numpy.html</a> 路 metal.html 路 <a href="wsdl.html">wsdl.html</a><script>document.addEventListener('keydown', function(event) {
  if (document.activeElement !== document.body) return
  const getLinks = () => document.getElementsByClassName("scrollKeyboardNav")[0].getElementsByTagName("a")
  if (event.key === "ArrowLeft")
    getLinks()[0].click()
  else if (event.key === "ArrowRight")
    getLinks()[1].click()
 });</script></div>
<p class="scrollFileViewSourceUrlComponent"><a href="https://github.com/breck7/pldb/blob/main/database/things/metal.pldb">View source</a></p></div>
  <div class="pldbFooter">
   <a href="../index.html" class="logoFont">PLDB</a>
   <span>- Build the next great programming language 路 <a title="This page was built in 2022 from commit 73e4450eec73833c5603b63170195cf4f4f05826" href="https://github.com/breck7/pldb/commit/73e4450eec73833c5603b63170195cf4f4f05826">v2022</a> 路 </span>
   <a href="../pages/about.html">Day 59</a>
   <span>路</span>
   <a href="../docs/csv.html">Docs</a>
   <span>路</span>
   <a href="https://build.pldb.com">Build</a>
   <span>路</span>
   <a href="../pages/acknowledgements.html">Acknowledgements</a>
   <span>路</span>
   <a href="https://pldb.com/nginxDaily.html">Traffic Today</a>
   <span>路</span>
   <a href="https://pldb.com/nginxDailyAll.html">Traffic Trends</a>
   <span>路</span>
   <a href="../pages/mirrors.html">Mirrors</a>
   <span>路</span>
   <a href="https://github.com/breck7/pldb">GitHub</a>
   <span>路</span>
   <a href="mailto:feedback@pldb.com">feedback@pldb.com</a>
</div>
</body>
</html>
