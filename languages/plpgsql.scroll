title PL/pgSQL

import settings.scroll
htmlTitle PL/pgSQL - Pl

viewSourceUrl https://github.com/breck7/pldb/blob/main/database/things/plpgsql.pldb

paragraph
 PL/pgSQL is a <a href="../lists/languages.html?filter=pl">pl</a> created in <a href="../lists/languages.html?filter=1998">1998</a> by <a href="../lists/creators.html#Jan_Wieck">Jan Wieck</a>.

kpiTable
 #263 <span title="TotalRank: 645 Jobs: 101 Users: 720 Facts: 381 Links: 163">on PLDB</span>
 24 Years Old
 490 <span title="Crude user estimate from a linear model.">Users</span>
 0 <span title="Books about or leveraging PL/pgSQL">Books</span>
 0 <span title="Academic publications about or leveraging PL/pgSQL">Papers</span>
 25k <span title="PL/pgSQL repos on GitHub.">Repos</span>







paragraph
 PL/pgSQL (Procedural Language/PostgreSQL) is a procedural programming language supported by the PostgreSQL ORDBMS.  It closely resembles Oracle's PL/SQL language. Implemented by Jan Wieck, PL/pgSQL first appeared with PostgreSQL 6.4, released on October 30, 1998. <a href="https://en.wikipedia.org/wiki/PL/pgSQL">Read more on Wikipedia...</a>

list
 - the <a href="https://en.wikipedia.org/wiki/PL/pgSQL">PL/pgSQL Wikipedia page</a>
 - There are at least 24,919 PL/pgSQL repos on <a href="https://github.com/search?q=language:PLpgSQL">GitHub</a>
 - file extensions for PL/pgSQL include pgsql and sql
 - The  Google BigQuery Public Dataset GitHub snapshot shows 8k users using PL/pgSQL in 9k repos on <a href="https://api.github.com/search/repositories?q=language:PLpgSQL">GitHub</a>
 - <a href="languages/pygments.html">Pygments</a> supports <a href="https://github.com/pygments/pygments/blob/master/pygments/lexers/sql.py">syntax highlighting</a> for PL/pgSQL
 - GitHub supports <a href="https://github.com/textmate/sql.tmbundle" title="The package used for syntax highlighting by GitHub Linguist.">syntax highlighting</a> for PL/pgSQL
 - See also: (6 related languages)<a href="pl-sql.html">PL/SQL</a>, <a href="ada.html">Ada</a>, <a href="postgresql.html">PostgreSQL</a>, <a href="sql-psm.html">SQL/PSM</a>, <a href="sql.html">SQL</a>, <a href="bison.html">Bison</a>
 - HTML of this page generated by <a href="https://github.com/breck7/pldb/blob/main/code/LanguagePage.ts">LanguagePage.ts</a>
 - <a href="https://build.pldb.com/edit/plpgsql">Improve our PL/pgSQL file</a>

html
 <br>

exampleCodeHeader Example from <a href='https://github.com/textmate/sql.tmbundle'>Linguist</a>:
code
 load &#39;plpgsql&#39;;
 load &#39;plpgsql_lint&#39;;
 
 DROP FUNCTION IF EXISTS list_sites();
 CREATE OR REPLACE FUNCTION list_sites() RETURNS TABLE (fc json) AS
 $func$
 BEGIN
 RETURN QUERY SELECT row_to_json(feat_col) FROM (
     SELECT &#39;FeatureCollection&#39; AS type, array_to_json(array_agg(feat)) AS features FROM (
             SELECT DISTINCT ON (new_id) &#39;Feature&#39; AS type, ST_ASGeoJSON(loc.geom)::json AS geometry, row_to_json(
                 (SELECT prop FROM (SELECT new_id) AS prop)) AS properties FROM location loc) AS feat) AS feat_col;
 END;
 $func$ LANGUAGE plpgsql;
 
 
 DROP FUNCTION IF EXISTS get_observations(character varying, integer);
 CREATE OR REPLACE FUNCTION get_observations(kind varchar, site_id integer) RETURNS TABLE (fc json) AS
 $func$
 BEGIN
     IF kind = &#39;o2_abs&#39; THEN
         RETURN QUERY SELECT array_to_json(array_agg(row_to_json(obs))) FROM (
             SELECT observation_date AS date, o2_abs AS value FROM oxygen WHERE new_id = site_id) AS obs;
     ELSIF kind = &#39;o2_rel&#39; THEN
         RETURN QUERY SELECT array_to_json(array_agg(row_to_json(obs))) FROM (
             SELECT observation_date AS date, o2_rel AS value FROM oxygen WHERE new_id = site_id) AS obs;
     ELSIF kind = &#39;temp&#39; THEN
         RETURN QUERY SELECT array_to_json(array_agg(row_to_json(obs))) FROM (
             SELECT observation_date AS date, temp AS value FROM oxygen WHERE new_id = site_id) AS obs;
     END IF;
 END;
 $func$ LANGUAGE plpgsql;
 





foldBreak
subsection Language <a href="../lists/features.html">features</a>

treeTable
 row
  Feature Comments
  FeatureLink ../languages/comment-feature.html
  Supported ✓
  Example
  Token 
 row
  Feature MultiLine Comments
  FeatureLink ../languages/multiline-comments-feature.html
  Supported ✓
  Example
  Token 
 row
  Feature Line Comments
  FeatureLink ../languages/line-comments-feature.html
  Supported ✓
  Example
  Token 
 row
  Feature Integers
  FeatureLink ../languages/integers-feature.html
  Supported ✓
  Example
  Token 
 row
  Feature Floats
  FeatureLink ../languages/floats-feature.html
  Supported ✓
  Example
  Token 













keyboardNav self.html odin.html
